(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},50:function(e,t,n){e.exports=n(95)},59:function(e,t,n){},87:function(e,t){},92:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a,i=n(0),o=n.n(i),r=n(39),c=n.n(r),s=n(18),l=n(97),d=n(98),h=n(7),m=n(15),u=n(16),p=n(48),w=n(42),E=n(49),f=n(6),v=n(43),g=n.n(v),y=(n(59),n(14)),O=n(17),b={SHOW_PRELOADER:"".concat("COMMON",":SHOW_PRELOADER"),HIDE_PRELOADER:"".concat("COMMON",":HIDE_PRELOADER")},k={isShowPreloader:!1},S={showPreloader:function(){return{type:b.SHOW_PRELOADER}},hidePreloader:function(){return{type:b.HIDE_PRELOADER}},callApi:function(){return Object(y.a)({},O.RSAA,{endpoint:"",method:"GET",types:["REQUEST","SUCCESS","FAILURE"]})}},R=n(44),j=n.n(R)()("http://local.online:3000"),P=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"start",value:function(){return j.emit("subscribeToTimer",1e3),new Promise(function(e,t){j.on("timer",function(t){return e(t)})})}},{key:"getSocket",value:function(){return j}}]),e}()),A={up:!1,down:!1,left:!1,right:!1},D={up:!1,down:!1,left:!1,right:!1},x={socket:P}.socket.getSocket(),N=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.showPreloader(),this.setState({timestamp:0}),this.interval=void 0,this.game=void 0,this.ctx=void 0,this.width=0,this.height=0,this.player=void 0,this.playerTmp=void 0}},{key:"componentDidMount",value:function(){var e=this;this.props.hidePreloader(),document.addEventListener("keydown",function(e){switch(e.code){case"KeyA":D.left=!0;break;case"KeyW":D.up=!0;break;case"KeyD":D.right=!0;break;case"KeyS":D.down=!0}A.left===D.left&&A.up===D.up&&A.right===D.right&&A.down===D.down||(A=Object(h.a)({},D),x.emit("movement",Object(h.a)({},A,{id:a.id})))}),document.addEventListener("keyup",function(e){switch(e.code){case"KeyA":D.left=!1;break;case"KeyW":D.up=!1;break;case"KeyD":D.right=!1;break;case"KeyS":D.down=!1}A.left===D.left&&A.up===D.up&&A.right===D.right&&A.down===D.down||(A=Object(h.a)({},D),x.emit("movement",Object(h.a)({},A,{id:a.id})))}),x.emit("new player"),this.width=window.innerWidth,this.height=window.innerHeight,this.game=document.getElementById("game"),this.game.width=this.width,this.game.height=this.height,this.ctx=this.game.getContext("2d"),x.on("new player confirm",function(e){console.log("player",e),a||(a=e)}),x.on("state",function(t){e.draw(t.players,t.field)})}},{key:"draw",value:function(e,t){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.strokeStyle="#FF0000",this.ctx.strokeRect(t.x,t.y,t.width,t.height);for(var n=0;n<e.length;n++)this.playerTmp=e[n],this.ctx.fillStyle=this.playerTmp.color,this.ctx.beginPath(),this.ctx.arc(this.playerTmp.x,this.playerTmp.y,this.playerTmp.r,0,2*Math.PI),this.ctx.fill()}},{key:"render",value:function(){var e=this.props.isShowPreloader;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"}),"Header")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-3"},"Sidebar",o.a.createElement("div",null,"Timestamp: ",this.state.timestamp)),o.a.createElement("div",{className:"col-md-9"},e?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",null,"Content"),o.a.createElement("canvas",{id:"game"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4"},"Footer 1"),o.a.createElement("div",{className:"col-md-4"},"Footer 2"),o.a.createElement("div",{className:"col-md-4"},"Footer 3")))}}]),t}(i.Component),L=Object(s.b)(function(e){return{isShowPreloader:e.common.isShowPreloader}},function(e){return Object(f.bindActionCreators)(Object(h.a)({},S),e)})(N),T=n(45),W=n(46),H=Object(f.combineReducers)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;switch((arguments.length>1?arguments[1]:void 0).type){case b.SHOW_PRELOADER:return Object(h.a)({},e,{isShowPreloader:!0});case b.HIDE_PRELOADER:return Object(h.a)({},e,{isShowPreloader:!1});default:return e}}}),M=Object(f.createStore)(H,Object(W.composeWithDevTools)(Object(f.applyMiddleware)(T.a,O.apiMiddleware)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(90),n(92);c.a.render(o.a.createElement(s.a,{store:M},o.a.createElement(l.a,null,o.a.createElement(d.a,{path:"/",component:L}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,2,1]]]);
//# sourceMappingURL=main.3ea16667.chunk.js.map